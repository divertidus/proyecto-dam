<ion-card>
  <ion-card-header (click)="onToggleExpand()">
    <ion-card-title>{{ entrenamientoActual.fechaEntrenamiento | date: 'dd/MM/yyyy, HH:mm' }}</ion-card-title>
    <ion-card-subtitle>{{ entrenamientoActual.diaRutinaId }}</ion-card-subtitle>
  </ion-card-header>
  <ion-card-content *ngIf="expandido">
    <p *ngIf="entrenamientoActual.notas"><strong>Notas del día:</strong> {{ entrenamientoActual.notas }}</p>
    <ion-list>
      <ion-item *ngFor="let ejercicio of entrenamientoActual.ejerciciosRealizados; let j = index">
        <ion-label>
          <h2>{{ ejercicio.nombreEjercicioRealizado }}</h2> <!-- //obtenerNombre -->
          <!-- Mostrar notas del ejercicio si existen -->
          <p *ngIf="ejercicio.notas"><strong>Notas del ejercicio:</strong> <i>{{ ejercicio.notas }}</i></p>

          <!-- Lista de series del ejercicio -->
          <ng-container *ngFor="let serie of ejercicio.series; let k = index">
            <p>
              <!-- Encabezado reducido a "S X" -->
              S{{ serie.numeroSerie }}: {{ serie.repeticiones }} reps
              {{ serie.peso ? ('- ' + serie.peso + ' kg') : '' }}

              <!-- Peso y repeticiones anteriores entre paréntesis, si existen -->
              <span *ngIf="serie.pesoAnterior || serie.repeticionesAnterior">
                (<i>{{ serie.pesoAnterior ? serie.pesoAnterior + ' kg' : '' }} {{ serie.repeticionesAnterior ? ', ' +
                  serie.repeticionesAnterior + ' reps' : '' }}</i>)
              </span>

              <!-- Mostrar checks y notas en la misma línea -->
              <small *ngIf="getSerieDetails(serie) || serie.notas">
                - {{ getSerieDetails(serie) }}
                <span *ngIf="serie.notas">, <i>{{ serie.notas }}</i></span>
              </small>
            </p>
          </ng-container>
        </ion-label>
      </ion-item>
    </ion-list>
  </ion-card-content>
</ion-card>