<ion-card>
  <ion-card-header (click)="toggleExpand.emit(index)">
    <!-- Añadimos el formato de fecha con hora -->
    <ion-card-title>{{ entrenamientoActual.fechaEntrenamiento | date: 'dd/MM/yyyy, HH:mm' }}</ion-card-title>
    <ion-card-subtitle>{{ entrenamientoActual.diaRutinaId }}</ion-card-subtitle>
  </ion-card-header>
  <ion-card-content *ngIf="expandido">
    <p *ngIf="entrenamientoActual.notas"><strong>Notas del día:</strong> {{ entrenamientoActual.notas }}</p>
    <ion-list>
      <ion-item *ngFor="let ejercicio of entrenamientoActual.ejercicios; let j = index">
        <ion-label>
          <!-- Usamos el método para obtener el nombre del ejercicio -->
          <h2>{{ obtenerNombreEjercicio(ejercicio.ejercicioId) }}</h2>

          <!-- Notas del ejercicio -->
          <p *ngIf="ejercicio.notas"><strong>Notas del ejercicio:</strong> {{ ejercicio.notas }}</p>

          <p *ngFor="let serie of ejercicio.series; let k = index">
            Serie {{ serie.numeroSerie }}: {{ serie.repeticiones }} reps 
            {{ serie.peso ? ('- ' + serie.peso + ' kg') : '' }}
            <span *ngIf="serie.pesoAnterior">
              <i>({{ serie.pesoAnterior }} kg)</i>
            </span>
            <small *ngIf="serie.dolor || serie.conAyuda || serie.alFallo">
              {{ serie.dolor ? 'Dolor' : '' }} {{ serie.conAyuda ? '- Con Ayuda' : '' }} {{ serie.alFallo ? '- Al Fallo' : '' }}
            </small>
          </p>
        </ion-label>
      </ion-item>
    </ion-list>
  </ion-card-content>
</ion-card>